<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        function cb(selection) {
            $.getJSON({
                url: "/callback", data: { 'data': selection }, success: function (result) {
                    Plotly.newPlot('chart', result, {});;
                }
            });
        }
    </script>



</head>

<body style="font-family:arial, sans-serif">

    <h1>小费Tips数据分析</h1>

<!--    <h2>输入国家如：India或China（大写字母开头）</h2>-->
<!--    <input type="text" id="fname" name="fname" onchange="cb(this.value)">-->
    <h1>1、数据描述</h1>
    <h2>1.1、数据获取</h2>
    <p>可视化神器Plotly Express中有许多数据集，本次数据分析的tips数据集就是其中之一。因此，在数据分析时，利用Plotly直接使用tips数据集。</p>
    <h2>1.2、数据字段描述</h2>
    <p>本样本数据集为tips(小费)数据集，共包含7个数据字段245个样本，数据集中的中的每列用制表符分隔，其中的7个字段意思如下：</p>
    <p>* total_bill(小费总金额)</p>
    <p>* tip(小费金额)</p>
    <p>* sex(顾客性别)</p>
    <p>* smoker(吸烟顾客)</p>
    <p>* day(消费的日期)</p>
    <p>* time(吃饭时间段)</p>
    <p>* size(聚餐人数)</p>

    <h1>2、数据可视化分析</h1>
    <h2>2.1、扇形图</h2>
    <p>该图为扇形图，右边分别代表图中的百分比数据Saturday(周六)、Sunday(周日)、Thursday(周四)和Friday(周五)的总费比例，从图中可以看出在Saturday(周六)中总费用的比例最高，Friday(周五)的总费用最少。</p>
    <div id="chart" class="chart"></div>
    <h2>2.2、直方图</h2>
    <p>该图为直方图，其中x轴坐标为total_bill(总账单)，y轴坐标为sum of tip(总小费)，颜色划分为time(吃饭时间)，从图中可以看出在Dinner(晚餐)时候，总账单可以达到50，但Lunch(午餐)期间的小费费用基本都比Dinner(晚餐)多。</p>
    <div id="chart1" class="chart"></div>
    <h2>2.3、横纹柱状图</h2>
    <p>该图为横纹柱状图，其中x轴坐标为sex(性别)，y轴坐标为tip(小费),颜色划分为time(吃饭时间)，从图中可以看出对于Famale(女性)而言，更加偏爱在Dinner(晚餐)给予小费tip,对于Male(男性)而言，也是偏爱在Dinenr(晚餐)给予小费tip；可以看出无论男女都偏爱在Dinner(晚餐)过后给予小费。</p>
    <div id="chart2" class="chart"></div>
    <h2>2.4、散点图矩阵</h2>
    <p>该图为散点图矩阵，以size(聚餐人数)作为颜色划分，从图中可以看出大部分Male(男性)和Frmale(女性)都偏爱于2人聚餐</p>
    <div id="chart3" class="chart"></div>
    <h2>2.5、散点直方图</h2>
    <p>该图x轴坐标为total_bill(总账单)，y轴坐标为time(吃饭时间),颜色划分为Smoker(吸烟人)，从图中可以看出在Dinner(晚餐)时间，Frmale(女性)和Male(男性)都付小费的比较多。</p>
    <div id="chart4" class="chart"></div>
    <h2>2.6、小提琴图</h2>
    <p>该图为小提琴图，该图x轴坐标为sex(性别)，y轴坐标为tip(小费),颜色划分为Smoker(吸烟人)，从图中可以看出在Frmale(女性)中，吸烟者给的小费多些，Male(男性)吸烟者给的小费也多些，综合来看，吸烟者更愿意给多点小费。</p>
    <div id="chart9" class="chart"></div>

</body>

<script>
    d = {{ graphJSON | safe }};
    Plotly.newPlot('chart', d, {});
    d = {{ graphJSON1 | safe }};
    Plotly.newPlot('chart1', d, {});
    d = {{ graphJSON2 | safe }};
    Plotly.newPlot('chart2', d, {});
    d = {{ graphJSON3 | safe }};
    Plotly.newPlot('chart3', d, {});
    d = {{ graphJSON4 | safe }};
    Plotly.newPlot('chart4', d, {});
    d = {{ graphJSON9 | safe }};
    Plotly.newPlot('chart9', d, {});
</script>


</html>
